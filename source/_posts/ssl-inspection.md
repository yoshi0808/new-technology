---
title: XG Firewall v18のSSLインスペクションについて
tags:
  - XG Firewall
categories:
  - Software
date: 2020-03-20 14:23:53
---


{% note primary no-icon %}

## SSLインスペクションとは

{% endnote %}

　XGで設定の難易度が難しくなるのはこの部分です。上記までの基本ルールとは別に、SSLを解読して検査する設定を行う事になります。今日でもSSLという呼び方は定着していますが、TLS（Transport Layer Security）とも呼ばれます。XGの最も素晴らしい機能の1つがSSLを解読する安全装置です。この安全装置の事を、「IPS」（Intrusion Prevension System）と呼びます。そして、その解読方法として「SSLインスペクション」という方式が採用されています。
<!-- more -->
　このSSLインスペクションについては、解りやすい文献がありますので紹介します。セキュリティベンダーの（株）ラック社から提供されているドキュメントです。

>出典：株式会社ラック[【「常時SSL化」時代に向けたセキュリティ対策指南書】](https://www.lac.co.jp/library/pdf/ssl_guidebook.pdf)

　特にP13に記載されているSSLインペクションゾーンの仕事をしてくれるのがXGの役割です。

{% note primary no-icon %}

## SSLインスペクションの設定にあたって

{% endnote %}
　まず、SSLインスペクションが行える前提として、XGのルート証明書をクライアントにインストールしなくてはなりません。それができないとhttpsのトラフィックを復号化出来ないためです。復号化については、以下の端末で検証をしています。

- Windows
- macOS
- iOS
  
　なお、Linuxでも可能なようですが、私の方で検証は出来ていません。またAndroidには証明書はインストール出来ますが、Chrome以外のアプリで証明書を信頼する事が出来ず、実質SSLインスペクションは使えません。他の家電TVなども難しいと考えてください。httpsの復号化が出来ずともドメインやIP単位での制限は可能なので、家電のネット利用であっても、Firewallの利用価値は高いとおもいます。

　SSLインスペクションを設定後、ブラウザのURLの鍵マークにカーソルを合わせるとそのサイトで利用している本来の認証局ではなく、以下のようにXGの認証局が有効となっている事が分かります。

{% asset_img ssl-inspection.png alt %}
